\doxysection{include/drako/hardware/at28c64b.h File Reference}
\hypertarget{at28c64b_8h}{}\label{at28c64b_8h}\index{include/drako/hardware/at28c64b.h@{include/drako/hardware/at28c64b.h}}
{\ttfamily \#include $<$hardware/gpio.\+h$>$}\newline
{\ttfamily \#include $<$pico/stdlib.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structat28c64b}{at28c64b}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{at28c64b_8h_abb93a9bb98f11c02b50b877b2841599f}{EEPROM\+\_\+\+OP\+\_\+\+DELAY}}~1000
\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structat28c64b}{at28c64b}} \mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{at28c64b_8h_a3aee3ed8d42dd908de99317fd675c279}{\+\_\+eeprom\+\_\+gpio\+\_\+init}} (\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}prom)
\begin{DoxyCompactList}\small\item\em Initialize GPIO pins used for EEPROM. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{at28c64b_8h_ae0e452274ad31577af9275eee2a349dc}{\+\_\+eeprom\+\_\+data\+\_\+in}} (\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}prom)
\begin{DoxyCompactList}\small\item\em Sets data bus to input mode. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{at28c64b_8h_acc5bfddb79998ee229ecad01e1b7c649}{\+\_\+eeprom\+\_\+data\+\_\+out}} (\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}prom)
\begin{DoxyCompactList}\small\item\em Sets data bus to input mode. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{at28c64b_8h_a603833bc0a4bf5e6b7c61912b5c74c03}{\+\_\+eeprom\+\_\+set\+\_\+idle\+\_\+condition}} (\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}prom)
\begin{DoxyCompactList}\small\item\em Sets all control pins to HIGH (inactive) \end{DoxyCompactList}\item 
void \mbox{\hyperlink{at28c64b_8h_a5d57132d3b56962f4c6e62d2068e2dc6}{\+\_\+eeprom\+\_\+set\+\_\+read\+\_\+condition}} (\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}prom)
\begin{DoxyCompactList}\small\item\em Sets EEPROM read condition. Must be called before executing a READ. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{at28c64b_8h_ab842f8b2feb8ee0b3c598cf90d4aee44}{\+\_\+eeprom\+\_\+set\+\_\+write\+\_\+condition}} (\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}prom)
\begin{DoxyCompactList}\small\item\em Sets EEPROM write condition. Must be called before executing a WRITE. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{at28c64b_8h_aa4b0f03482b3ca8933d7b004eb586cc4}{\+\_\+eeprom\+\_\+execute\+\_\+write}} (\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}prom)
\begin{DoxyCompactList}\small\item\em Executes WRITE. Must be called AFTER setting a WRITE condition. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{at28c64b_8h_a2551100cc312cf619d427a5ca406dede}{eeprom\+\_\+init}} (\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}prom, uint32\+\_\+t data\+\_\+bus, uint32\+\_\+t addr\+\_\+bus, uint8\+\_\+t we, uint8\+\_\+t oe, uint8\+\_\+t ce)
\begin{DoxyCompactList}\small\item\em Initialize a previously allocated EEPROM struct. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{at28c64b_8h_a4c7541f7c8dc1e6bb798653f323e5a88}{eeprom\+\_\+select}} (\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}prom)
\begin{DoxyCompactList}\small\item\em Allows EEPROM to take control of shared GPIO pins. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{at28c64b_8h_a5f945cb88c0620b1ccef92cb4c25d1e8}{eeprom\+\_\+read8}} (\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}prom, uint32\+\_\+t addr, uint8\+\_\+t \texorpdfstring{$\ast$}{*}buff)
\begin{DoxyCompactList}\small\item\em Reads byte at specified address into buffer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{at28c64b_8h_afb9d8a4a55858cd3c1840fabb5299d50}{eeprom\+\_\+write8}} (\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}prom, uint32\+\_\+t addr, uint8\+\_\+t data)
\begin{DoxyCompactList}\small\item\em Write byte to EEPROM at specified address. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{at28c64b_8h_abb93a9bb98f11c02b50b877b2841599f}\index{at28c64b.h@{at28c64b.h}!EEPROM\_OP\_DELAY@{EEPROM\_OP\_DELAY}}
\index{EEPROM\_OP\_DELAY@{EEPROM\_OP\_DELAY}!at28c64b.h@{at28c64b.h}}
\doxysubsubsection{\texorpdfstring{EEPROM\_OP\_DELAY}{EEPROM\_OP\_DELAY}}
{\footnotesize\ttfamily \label{at28c64b_8h_abb93a9bb98f11c02b50b877b2841599f} 
\#define EEPROM\+\_\+\+OP\+\_\+\+DELAY~1000}



\doxysubsection{Typedef Documentation}
\Hypertarget{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}\index{at28c64b.h@{at28c64b.h}!eeprom@{eeprom}}
\index{eeprom@{eeprom}!at28c64b.h@{at28c64b.h}}
\doxysubsubsection{\texorpdfstring{eeprom}{eeprom}}
{\footnotesize\ttfamily \label{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06} 
typedef struct \mbox{\hyperlink{structat28c64b}{at28c64b}} \mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}}}



\doxysubsection{Function Documentation}
\Hypertarget{at28c64b_8h_ae0e452274ad31577af9275eee2a349dc}\index{at28c64b.h@{at28c64b.h}!\_eeprom\_data\_in@{\_eeprom\_data\_in}}
\index{\_eeprom\_data\_in@{\_eeprom\_data\_in}!at28c64b.h@{at28c64b.h}}
\doxysubsubsection{\texorpdfstring{\_eeprom\_data\_in()}{\_eeprom\_data\_in()}}
{\footnotesize\ttfamily \label{at28c64b_8h_ae0e452274ad31577af9275eee2a349dc} 
void \+\_\+eeprom\+\_\+data\+\_\+in (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}}]{prom}{}\end{DoxyParamCaption})}



Sets data bus to input mode. 


\begin{DoxyParams}{Parameters}
{\em prom} & Pointer to EEPROM struct \\
\hline
\end{DoxyParams}
\Hypertarget{at28c64b_8h_acc5bfddb79998ee229ecad01e1b7c649}\index{at28c64b.h@{at28c64b.h}!\_eeprom\_data\_out@{\_eeprom\_data\_out}}
\index{\_eeprom\_data\_out@{\_eeprom\_data\_out}!at28c64b.h@{at28c64b.h}}
\doxysubsubsection{\texorpdfstring{\_eeprom\_data\_out()}{\_eeprom\_data\_out()}}
{\footnotesize\ttfamily \label{at28c64b_8h_acc5bfddb79998ee229ecad01e1b7c649} 
void \+\_\+eeprom\+\_\+data\+\_\+out (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}}]{prom}{}\end{DoxyParamCaption})}



Sets data bus to input mode. 


\begin{DoxyParams}{Parameters}
{\em prom} & Pointer to EEPROM struct \\
\hline
\end{DoxyParams}
\Hypertarget{at28c64b_8h_aa4b0f03482b3ca8933d7b004eb586cc4}\index{at28c64b.h@{at28c64b.h}!\_eeprom\_execute\_write@{\_eeprom\_execute\_write}}
\index{\_eeprom\_execute\_write@{\_eeprom\_execute\_write}!at28c64b.h@{at28c64b.h}}
\doxysubsubsection{\texorpdfstring{\_eeprom\_execute\_write()}{\_eeprom\_execute\_write()}}
{\footnotesize\ttfamily \label{at28c64b_8h_aa4b0f03482b3ca8933d7b004eb586cc4} 
void \+\_\+eeprom\+\_\+execute\+\_\+write (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}}]{prom}{}\end{DoxyParamCaption})}



Executes WRITE. Must be called AFTER setting a WRITE condition. 


\begin{DoxyParams}{Parameters}
{\em prom} & Pointer to EEPROM struct \\
\hline
\end{DoxyParams}
\Hypertarget{at28c64b_8h_a3aee3ed8d42dd908de99317fd675c279}\index{at28c64b.h@{at28c64b.h}!\_eeprom\_gpio\_init@{\_eeprom\_gpio\_init}}
\index{\_eeprom\_gpio\_init@{\_eeprom\_gpio\_init}!at28c64b.h@{at28c64b.h}}
\doxysubsubsection{\texorpdfstring{\_eeprom\_gpio\_init()}{\_eeprom\_gpio\_init()}}
{\footnotesize\ttfamily \label{at28c64b_8h_a3aee3ed8d42dd908de99317fd675c279} 
void \+\_\+eeprom\+\_\+gpio\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}}]{prom}{}\end{DoxyParamCaption})}



Initialize GPIO pins used for EEPROM. 


\begin{DoxyParams}{Parameters}
{\em prom} & Pointer to EEPROM struct \\
\hline
\end{DoxyParams}
\Hypertarget{at28c64b_8h_a603833bc0a4bf5e6b7c61912b5c74c03}\index{at28c64b.h@{at28c64b.h}!\_eeprom\_set\_idle\_condition@{\_eeprom\_set\_idle\_condition}}
\index{\_eeprom\_set\_idle\_condition@{\_eeprom\_set\_idle\_condition}!at28c64b.h@{at28c64b.h}}
\doxysubsubsection{\texorpdfstring{\_eeprom\_set\_idle\_condition()}{\_eeprom\_set\_idle\_condition()}}
{\footnotesize\ttfamily \label{at28c64b_8h_a603833bc0a4bf5e6b7c61912b5c74c03} 
void \+\_\+eeprom\+\_\+set\+\_\+idle\+\_\+condition (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}}]{prom}{}\end{DoxyParamCaption})}



Sets all control pins to HIGH (inactive) 


\begin{DoxyParams}{Parameters}
{\em prom} & Pointer to EEPROM struct \\
\hline
\end{DoxyParams}
\Hypertarget{at28c64b_8h_a5d57132d3b56962f4c6e62d2068e2dc6}\index{at28c64b.h@{at28c64b.h}!\_eeprom\_set\_read\_condition@{\_eeprom\_set\_read\_condition}}
\index{\_eeprom\_set\_read\_condition@{\_eeprom\_set\_read\_condition}!at28c64b.h@{at28c64b.h}}
\doxysubsubsection{\texorpdfstring{\_eeprom\_set\_read\_condition()}{\_eeprom\_set\_read\_condition()}}
{\footnotesize\ttfamily \label{at28c64b_8h_a5d57132d3b56962f4c6e62d2068e2dc6} 
void \+\_\+eeprom\+\_\+set\+\_\+read\+\_\+condition (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}}]{prom}{}\end{DoxyParamCaption})}



Sets EEPROM read condition. Must be called before executing a READ. 


\begin{DoxyParams}{Parameters}
{\em prom} & Pointer to EEPROM struct \\
\hline
\end{DoxyParams}
\Hypertarget{at28c64b_8h_ab842f8b2feb8ee0b3c598cf90d4aee44}\index{at28c64b.h@{at28c64b.h}!\_eeprom\_set\_write\_condition@{\_eeprom\_set\_write\_condition}}
\index{\_eeprom\_set\_write\_condition@{\_eeprom\_set\_write\_condition}!at28c64b.h@{at28c64b.h}}
\doxysubsubsection{\texorpdfstring{\_eeprom\_set\_write\_condition()}{\_eeprom\_set\_write\_condition()}}
{\footnotesize\ttfamily \label{at28c64b_8h_ab842f8b2feb8ee0b3c598cf90d4aee44} 
void \+\_\+eeprom\+\_\+set\+\_\+write\+\_\+condition (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}}]{prom}{}\end{DoxyParamCaption})}



Sets EEPROM write condition. Must be called before executing a WRITE. 


\begin{DoxyParams}{Parameters}
{\em prom} & Pointer to EEPROM struct \\
\hline
\end{DoxyParams}
\Hypertarget{at28c64b_8h_a2551100cc312cf619d427a5ca406dede}\index{at28c64b.h@{at28c64b.h}!eeprom\_init@{eeprom\_init}}
\index{eeprom\_init@{eeprom\_init}!at28c64b.h@{at28c64b.h}}
\doxysubsubsection{\texorpdfstring{eeprom\_init()}{eeprom\_init()}}
{\footnotesize\ttfamily \label{at28c64b_8h_a2551100cc312cf619d427a5ca406dede} 
void eeprom\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}}]{prom}{, }\item[{uint32\+\_\+t}]{data\+\_\+bus}{, }\item[{uint32\+\_\+t}]{addr\+\_\+bus}{, }\item[{uint8\+\_\+t}]{we}{, }\item[{uint8\+\_\+t}]{oe}{, }\item[{uint8\+\_\+t}]{ce}{}\end{DoxyParamCaption})}



Initialize a previously allocated EEPROM struct. 


\begin{DoxyParams}{Parameters}
{\em prom} & Pointer to EEPROM struct \\
\hline
{\em data\+\_\+bus} & GPIO mask of pins used for EEPROM I/O \\
\hline
{\em addr\+\_\+bus} & GPIO mask of pins used for EEPROM addressing \\
\hline
{\em we} & Write Enable GPIO pin \\
\hline
{\em oe} & Output Enable GPIO pin \\
\hline
{\em ce} & Chip Enable GPIO pin \\
\hline
\end{DoxyParams}
\Hypertarget{at28c64b_8h_a5f945cb88c0620b1ccef92cb4c25d1e8}\index{at28c64b.h@{at28c64b.h}!eeprom\_read8@{eeprom\_read8}}
\index{eeprom\_read8@{eeprom\_read8}!at28c64b.h@{at28c64b.h}}
\doxysubsubsection{\texorpdfstring{eeprom\_read8()}{eeprom\_read8()}}
{\footnotesize\ttfamily \label{at28c64b_8h_a5f945cb88c0620b1ccef92cb4c25d1e8} 
void eeprom\+\_\+read8 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}}]{prom}{, }\item[{uint32\+\_\+t}]{addr}{, }\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{buff}{}\end{DoxyParamCaption})}



Reads byte at specified address into buffer. 


\begin{DoxyParams}{Parameters}
{\em prom} & Pointer to EEPROM struct \\
\hline
{\em addr} & Address to read from \\
\hline
{\em buff} & Buffer for storing read data \\
\hline
\end{DoxyParams}
\Hypertarget{at28c64b_8h_a4c7541f7c8dc1e6bb798653f323e5a88}\index{at28c64b.h@{at28c64b.h}!eeprom\_select@{eeprom\_select}}
\index{eeprom\_select@{eeprom\_select}!at28c64b.h@{at28c64b.h}}
\doxysubsubsection{\texorpdfstring{eeprom\_select()}{eeprom\_select()}}
{\footnotesize\ttfamily \label{at28c64b_8h_a4c7541f7c8dc1e6bb798653f323e5a88} 
void eeprom\+\_\+select (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}}]{prom}{}\end{DoxyParamCaption})}



Allows EEPROM to take control of shared GPIO pins. 


\begin{DoxyParams}{Parameters}
{\em prom} & Pointer to EEPROM struct \\
\hline
\end{DoxyParams}
\Hypertarget{at28c64b_8h_afb9d8a4a55858cd3c1840fabb5299d50}\index{at28c64b.h@{at28c64b.h}!eeprom\_write8@{eeprom\_write8}}
\index{eeprom\_write8@{eeprom\_write8}!at28c64b.h@{at28c64b.h}}
\doxysubsubsection{\texorpdfstring{eeprom\_write8()}{eeprom\_write8()}}
{\footnotesize\ttfamily \label{at28c64b_8h_afb9d8a4a55858cd3c1840fabb5299d50} 
void eeprom\+\_\+write8 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{at28c64b_8h_ad6cc756fb2b931715d976cbb20eb2c06}{eeprom}} \texorpdfstring{$\ast$}{*}}]{prom}{, }\item[{uint32\+\_\+t}]{addr}{, }\item[{uint8\+\_\+t}]{data}{}\end{DoxyParamCaption})}



Write byte to EEPROM at specified address. 


\begin{DoxyParams}{Parameters}
{\em prom} & Pointer to EEPROM struct \\
\hline
{\em addr} & Address at which to write data \\
\hline
{\em data} & Byte data to write to address \\
\hline
\end{DoxyParams}
