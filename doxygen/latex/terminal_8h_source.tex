\doxysection{terminal.\+h}
\hypertarget{terminal_8h_source}{}\label{terminal_8h_source}\index{include/drako/terminal.h@{include/drako/terminal.h}}
\mbox{\hyperlink{terminal_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ \_\_drako\_terminal}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ \_\_drako\_terminal}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <stdbool.h>}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <pico/stdlib.h>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <tusb.h>}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#define\ DRKO\_TERM\_BUFSIZE\ 256}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#define\ DRKO\_TERM\ "{}[-\/BASILISK-\/]"{}}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structterminal__command__struct}{terminal\_command\_struct}}\ \{}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keywordtype}{char}**\ \mbox{\hyperlink{structterminal__command__struct_a268d128c59b1b52217ec0edddd239dbc}{argv}};}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structterminal__command__struct_ad4248c28874e42042d0a2136aefe2f43}{argc}};}
\DoxyCodeLine{00022\ \}\ \mbox{\hyperlink{terminal_8h_aa345fe1e30e332dfc4d2676612056e28}{terminal\_command}};}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{terminal_8h_a61ebe148dc673ea1e62f2edee8638843}{\_terminal\_clean\_string}}(\textcolor{keywordtype}{char}*\ str,\ \textcolor{keywordtype}{char}*\ buf,\ \textcolor{keywordtype}{size\_t}\ nbuf);}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{terminal_8h_a15dd72a4dfad52f9cb7e2f36b3853df3}{terminal\_get\_line}}(\textcolor{keywordtype}{char}*\ buf,\ \textcolor{keywordtype}{size\_t}\ n);}
\DoxyCodeLine{00030\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{terminal_8h_a53d2d98f51d9596b66bcbc830ed25a63}{terminal\_get\_command}}(\mbox{\hyperlink{terminal_8h_aa345fe1e30e332dfc4d2676612056e28}{terminal\_command}}*\ tcmd);}
\DoxyCodeLine{00031\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{terminal_8h_a78ef6ccc8bb5a7d6e5ac70289af14fe3}{terminal\_command\_free}}(\mbox{\hyperlink{terminal_8h_aa345fe1e30e332dfc4d2676612056e28}{terminal\_command}}*\ tcmd);}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00041\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \_terminal\_is\_valid\_char(\textcolor{keywordtype}{char}\ c)\ \{}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordflow}{return}\ (c\ ==\ \textcolor{charliteral}{'\ '}\ ||\ c\ ==\ \textcolor{charliteral}{'\(\backslash\)n'}\ ||\ c\ ==\ \textcolor{charliteral}{'\(\backslash\)t'});}
\DoxyCodeLine{00043\ \}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00051\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \_terminal\_greet()\ \{}
\DoxyCodeLine{00052\ \ \ \ \ printf(}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}|==========================================================================|\(\backslash\)n"{}}}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}||-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/||\(\backslash\)n"{}}}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}||\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ||\(\backslash\)n"{}}}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}||\ \ \ ██████████\ \ \ ███████████\ \ \ \ \ █████████\ \ \ █████\ \ \ ████\ \ \ \ ███████\ \ \ \ \ ||\(\backslash\)n"{}}}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}||\ \ ░░███░░░░███\ ░░███░░░░░███\ \ \ ███░░░░░███\ ░░███\ \ \ ███░\ \ \ ███░░░░░███\ \ \ ||\(\backslash\)n"{}}}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}||\ \ \ ░███\ \ \ ░░███\ ░███\ \ \ \ ░███\ \ ░███\ \ \ \ ░███\ \ ░███\ \ ███\ \ \ \ ███\ \ \ \ \ ░░███\ \ ||\(\backslash\)n"{}}}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}||\ \ \ ░███\ \ \ \ ░███\ ░██████████\ \ \ ░███████████\ \ ░███████\ \ \ \ ░███\ \ \ \ \ \ ░███\ \ ||\(\backslash\)n"{}}}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}||\ \ \ ░███\ \ \ \ ░███\ ░███░░░░░███\ \ ░███░░░░░███\ \ ░███░░███\ \ \ ░███\ \ \ \ \ \ ░███\ \ ||\(\backslash\)n"{}}}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}||\ \ \ ░███\ \ \ \ ███\ \ ░███\ \ \ \ ░███\ \ ░███\ \ \ \ ░███\ \ ░███\ ░░███\ \ ░░███\ \ \ \ \ ███\ \ \ ||\(\backslash\)n"{}}}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}||\ \ \ ██████████\ \ \ █████\ \ \ █████\ █████\ \ \ █████\ █████\ ░░████\ ░░░███████░\ \ \ \ ||\(\backslash\)n"{}}}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}||\ \ ░░░░░░░░░░\ \ \ ░░░░░\ \ \ ░░░░░\ ░░░░░\ \ \ ░░░░░\ ░░░░░\ \ \ ░░░░\ \ \ \ ░░░░░░░\ \ \ \ \ \ ||\(\backslash\)n"{}}}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}||\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ||\(\backslash\)n"{}}}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}||-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/||\(\backslash\)n"{}}}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}|==========================================================================|\(\backslash\)n"{}}}
\DoxyCodeLine{00067\ \ \ \ \ );}
\DoxyCodeLine{00068\ \ \ \ \ printf(\textcolor{stringliteral}{"{}\%s\ CONNECTION:\ ESTABLISHED\(\backslash\)n"{}},\ \mbox{\hyperlink{terminal_8h_a2ed41a8c4353a90dee231c5411a7ab74}{DRKO\_TERM}});}
\DoxyCodeLine{00069\ \ \ \ \ printf(\textcolor{stringliteral}{"{}\%s\ Welcome\ to\ DRAKO\ OS.\(\backslash\)n"{}},\ \mbox{\hyperlink{terminal_8h_a2ed41a8c4353a90dee231c5411a7ab74}{DRKO\_TERM}});}
\DoxyCodeLine{00070\ \ \ \ \ printf(\textcolor{stringliteral}{"{}\%s\ Type\ 'commands'\ to\ view\ list\ of\ valid\ commands."{}},\ \mbox{\hyperlink{terminal_8h_a2ed41a8c4353a90dee231c5411a7ab74}{DRKO\_TERM}});}
\DoxyCodeLine{00071\ \}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00079\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ terminal\_open\_connection()\ \{}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{comment}{//\ await\ connection}}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordflow}{while}\ (!tud\_cdc\_connected())\ \{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ gpio\_put(25,\ 1);}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ sleep\_ms(250);}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ gpio\_put(25,\ 0);}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ sleep\_ms(250);}
\DoxyCodeLine{00086\ \ \ \ \ \}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{comment}{//\ display\ greeting}}
\DoxyCodeLine{00089\ \ \ \ \ \_terminal\_greet();}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{comment}{//\ display\ terminal\ promp}}
\DoxyCodeLine{00092\ \ \ \ \ printf(\textcolor{stringliteral}{"{}\%s\ >\$"{}},\ \mbox{\hyperlink{terminal_8h_a2ed41a8c4353a90dee231c5411a7ab74}{DRKO\_TERM}});}
\DoxyCodeLine{00093\ \}}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00102\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ terminal\_is\_connected()\ \{}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordflow}{return}\ tud\_cdc\_connected();}
\DoxyCodeLine{00104\ \}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
